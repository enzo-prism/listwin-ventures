---
import type { VisualAsset } from '../data/assets';

interface Props {
  asset: VisualAsset;
  href?: string;
  class?: string;
}

const { asset, href, class: className = '' } = Astro.props;
const resolvedHref = href ?? asset.href;
---

<figure class={`rounded-[1.6rem] border border-border/70 bg-card p-4 shadow-sm transition-all duration-200 hover:-translate-y-0.5 hover:border-primary/25 hover:ring-1 hover:ring-primary/15 focus-within:-translate-y-0.5 focus-within:border-primary/25 focus-within:ring-1 focus-within:ring-primary/15 ${className}`.trim()}>
  {resolvedHref ? (
    <a href={resolvedHref} target={resolvedHref.startsWith('http') ? '_blank' : undefined} rel={resolvedHref.startsWith('http') ? 'noopener noreferrer' : undefined}>
      <img src={asset.path} alt={asset.alt} width="320" height="128" loading="lazy" class="mx-auto h-14 w-auto object-contain" />
    </a>
  ) : (
    <img src={asset.path} alt={asset.alt} width="320" height="128" loading="lazy" class="mx-auto h-14 w-auto object-contain" />
  )}
</figure>
